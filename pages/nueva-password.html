<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nueva Contraseña - LA MAFIA BARBER CLUB</title>
    <meta name="description" content="Establece tu nueva contraseña en LA MAFIA BARBER CLUB">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="../css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        .password-header {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('../img/password-bg.jpg') no-repeat center center;
            background-size: cover;
            padding: 100px 0;
            color: white;
            text-align: center;
            margin-bottom: 50px;
        }
        
        .password-card {
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        .steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            position: relative;
        }
        
        .steps::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 2px;
            background: #dee2e6;
            z-index: 1;
        }
        
        .step {
            position: relative;
            z-index: 2;
            background: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #dee2e6;
            color: #6c757d;
        }
        
        .step.active {
            border-color: var(--gold);
            color: var(--gold);
        }
        
        .step.completed {
            border-color: var(--gold);
            background-color: var(--gold);
            color: white;
        }
        
        .password-requirements {
            background-color: #f8f9fa;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .password-requirements ul {
            list-style: none;
            padding-left: 0;
            margin-bottom: 0;
        }
        
        .password-requirements li {
            color: #6c757d;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
        }
        
        .password-requirements li i {
            margin-right: 8px;
        }
        
        .password-requirements li.valid {
            color: #198754;
        }
        
        .password-requirements li.invalid {
            color: #dc3545;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <header class="sticky-top">
        <nav class="navbar navbar-expand-lg navbar-dark bg-black">
            <div class="container">
                <a class="navbar-brand d-flex align-items-center" href="../index.html">
                    <img src="/assets/img/logo_barber.jpg" alt="LA MAFIA BARBER CLUB" class="logo-img me-2" width="40" height="40">
                    <h1 class="m-0">LA MAFIA <span class="text-gold">BARBER CLUB</span></h1>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="/index.html">Inicio</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/pages/servicio.html">Servicios</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/pages/galeria.html">Galería</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/pages/producto.html">Productos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/index.html#barberos">Barberos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#contacto">Contacto</a>
                        </li>
                    </ul>
                    <a href="login.html" class="btn btn-outline-gold ms-lg-3 text-white">Iniciar Sesión</a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Encabezado de Nueva Contraseña -->
    <section class="password-header animate__animated animate__fadeIn">
        <div class="container">
            <h1 class="display-3 fw-bold mb-3">Nueva Contraseña</h1>
            <p class="lead">Establece una nueva contraseña segura para tu cuenta</p>
        </div>
    </section>

    <!-- Formulario de Nueva Contraseña -->
    <section class="py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-6">
                    <div class="password-card p-4">
                        <div class="text-center mb-4">
                            <h2 class="h3">Establecer Nueva Contraseña</h2>
                            <p class="text-muted">Crea una contraseña segura para proteger tu cuenta</p>
                        </div>
                        
                        <div class="steps">
                            <div class="step completed">1</div>
                            <div class="step completed">2</div>
                            <div class="step active">3</div>
                        </div>
                        
                        <form id="passwordForm">
                            <div class="mb-3">
                                <label for="password" class="form-label">Nueva Contraseña</label>
                                <div class="input-group">
                                    <input type="password" class="form-control" id="password" required>
                                    <button class="btn btn-outline-secondary" type="button" id="togglePassword">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <label for="confirmPassword" class="form-label">Confirmar Contraseña</label>
                                <div class="input-group">
                                    <input type="password" class="form-control" id="confirmPassword" required>
                                    <button class="btn btn-outline-secondary" type="button" id="toggleConfirmPassword">
                                        <i class="bi bi-eye"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="password-requirements mb-4">
                                <h6 class="mb-3">La contraseña debe cumplir con:</h6>
                                <ul>
                                    <li id="length"><i class="bi bi-x-circle"></i> Mínimo 8 caracteres</li>
                                    <li id="uppercase"><i class="bi bi-x-circle"></i> Al menos una mayúscula</li>
                                    <li id="lowercase"><i class="bi bi-x-circle"></i> Al menos una minúscula</li>
                                    <li id="number"><i class="bi bi-x-circle"></i> Al menos un número</li>
                                    <li id="special"><i class="bi bi-x-circle"></i> Al menos un carácter especial</li>
                                </ul>
                            </div>
                            
                            <button type="submit" class="btn btn-gold w-100 py-3 fw-bold">
                                <i class="bi bi-check-circle me-2"></i> Cambiar Contraseña
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contacto" class="bg-black text-white py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4 mb-lg-0">
                    <h2 class="h3 mb-4">LA MAFIA <span class="text-gold">BARBER CLUB</span></h2>
                    <p class="text-muted">Barbería profesional donde la tradición se encuentra con el estilo moderno.</p>
                    <div class="d-flex gap-3 mt-4">
                        <a href="#" class="text-white"><i class="bi bi-facebook fs-5"></i></a>
                        <a href="#" class="text-white"><i class="bi bi-instagram fs-5"></i></a>
                        <a href="#" class="text-white"><i class="bi bi-twitter fs-5"></i></a>
                        <a href="#" class="text-white"><i class="bi bi-whatsapp fs-5"></i></a>
                    </div>
                </div>
                <div class="col-lg-4 mb-4 mb-lg-0">
                    <h3 class="h5 mb-4">CONTACTO</h3>
                    <ul class="list-unstyled text-muted">
                        <li class="mb-2"><i class="bi bi-geo-alt-fill text-gold me-2"></i> Calle Principal #123, Ciudad</li>
                        <li class="mb-2"><i class="bi bi-telephone-fill text-gold me-2"></i> +57 123 456 7890</li>
                        <li class="mb-2"><i class="bi bi-envelope-fill text-gold me-2"></i> info@lamafabarberclub.com</li>
                    </ul>
                </div>
                <div class="col-lg-4">
                    <h3 class="h5 mb-4">HORARIO</h3>
                    <ul class="list-unstyled text-muted">
                        <li class="mb-2">Lunes - Viernes: 9:00 AM - 7:00 PM</li>
                        <li class="mb-2">Sábado: 9:00 AM - 5:00 PM</li>
                        <li>Domingo: Cerrado</li>
                    </ul>
                </div>
            </div>
            <hr class="my-4 bg-gold">
            <div class="text-center text-muted">
                <p class="mb-0">&copy; 2023 LA MAFIA BARBER CLUB. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/script.js"></script>
    <script>
        // Mostrar/ocultar contraseña
        function togglePasswordVisibility(inputId, buttonId) {
            const input = document.getElementById(inputId);
            const button = document.getElementById(buttonId);
            
            button.addEventListener('click', function() {
                const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
                input.setAttribute('type', type);
                
                const icon = button.querySelector('i');
                icon.classList.toggle('bi-eye');
                icon.classList.toggle('bi-eye-slash');
            });
        }
        
        togglePasswordVisibility('password', 'togglePassword');
        togglePasswordVisibility('confirmPassword', 'toggleConfirmPassword');
        
        // Validar requisitos de contraseña
        const password = document.getElementById('password');
        const requirements = {
            length: document.getElementById('length'),
            uppercase: document.getElementById('uppercase'),
            lowercase: document.getElementById('lowercase'),
            number: document.getElementById('number'),
            special: document.getElementById('special')
        };
        
        password.addEventListener('input', function() {
            const value = this.value;
            
            // Validar longitud
            if (value.length >= 8) {
                requirements.length.classList.add('valid');
                requirements.length.classList.remove('invalid');
                requirements.length.querySelector('i').classList.replace('bi-x-circle', 'bi-check-circle');
            } else {
                requirements.length.classList.remove('valid');
                requirements.length.classList.add('invalid');
                requirements.length.querySelector('i').classList.replace('bi-check-circle', 'bi-x-circle');
            }
            
            // Validar mayúsculas
            if (/[A-Z]/.test(value)) {
                requirements.uppercase.classList.add('valid');
                requirements.uppercase.classList.remove('invalid');
                requirements.uppercase.querySelector('i').classList.replace('bi-x-circle', 'bi-check-circle');
            } else {
                requirements.uppercase.classList.remove('valid');
                requirements.uppercase.classList.add('invalid');
                requirements.uppercase.querySelector('i').classList.replace('bi-check-circle', 'bi-x-circle');
            }
            
            // Validar minúsculas
            if (/[a-z]/.test(value)) {
                requirements.lowercase.classList.add('valid');
                requirements.lowercase.classList.remove('invalid');
                requirements.lowercase.querySelector('i').classList.replace('bi-x-circle', 'bi-check-circle');
            } else {
                requirements.lowercase.classList.remove('valid');
                requirements.lowercase.classList.add('invalid');
                requirements.lowercase.querySelector('i').classList.replace('bi-check-circle', 'bi-x-circle');
            }
            
            // Validar números
            if (/[0-9]/.test(value)) {
                requirements.number.classList.add('valid');
                requirements.number.classList.remove('invalid');
                requirements.number.querySelector('i').classList.replace('bi-x-circle', 'bi-check-circle');
            } else {
                requirements.number.classList.remove('valid');
                requirements.number.classList.add('invalid');
                requirements.number.querySelector('i').classList.replace('bi-check-circle', 'bi-x-circle');
            }
            
            // Validar caracteres especiales
            if (/[!@#$%^&*]/.test(value)) {
                requirements.special.classList.add('valid');
                requirements.special.classList.remove('invalid');
                requirements.special.querySelector('i').classList.replace('bi-x-circle', 'bi-check-circle');
            } else {
                requirements.special.classList.remove('valid');
                requirements.special.classList.add('invalid');
                requirements.special.querySelector('i').classList.replace('bi-check-circle', 'bi-x-circle');
            }
        });
        
        // Manejar el envío del formulario
        document.getElementById('passwordForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            // Verificar que las contraseñas coincidan
            if (password !== confirmPassword) {
                alert('Las contraseñas no coinciden');
                return;
            }
            
            // Verificar que la contraseña cumpla con todos los requisitos
            const isValid = Object.values(requirements).every(req => req.classList.contains('valid'));
            
            if (!isValid) {
                alert('La contraseña no cumple con todos los requisitos');
                return;
            }
            
            // En un caso real, aquí se enviaría la nueva contraseña al servidor
            const email = new URLSearchParams(window.location.search).get('email');
            
            // Simular actualización exitosa
            alert('Contraseña actualizada exitosamente');
            window.location.href = 'login.html';
        });
    </script>
</body>
</html> 